<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>chapter7</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="res/styles4.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>chapter7</h1><br/><p><strong><h1>Integer Arithmetic</h1></strong><span style="indent:1;"></span></p><p><span style="indent:1;"></span><ol><li><span style="indent:1;">1. </span><strong><span style="indent:1;">1. Shift and Rotate instructions â€“ how do they work? What flags can they set? Look at code and be</span></strong></li></ol><strong><span style="indent:1;"></span></strong></p><p><strong><span style="indent:1;">	able to tell what happens after one of these instructions runs.</span></strong><span style="indent:1;"></span></p><p><span style="indent:1;">		a. </span><strong><span style="indent:1;">Example: </span></strong><span style="indent:1;">mov al,01101011b</span><span style="indent:1;"></span></p><p><span style="indent:1;">		shr al,2</span><ol><li><span style="indent:1;">2. </span><strong><span style="indent:1;">2. The MUL/IMUL instruction/The DIV/IDIV instruction</span></strong></li></ol><span style="indent:1;"></span></p><p><span style="indent:1;"></span><span style="indent:1;"></span></p><p><span style="indent:1;"></span><span style="indent:1;"></span></p><p><span style="indent:1;"> </span><span style="indent:1;"></span></p><p><span style="indent:1;"></span><span style="indent:1;"></span></p><p><span style="indent:1;"></span><span style="indent:1;"></span></p><p><span style="indent:1;"></span><strong><h1>SHIFT INSTRUCTION</h1></strong><span style="indent:1;"></span></p><p><span style="indent:1;"></span><span style="indent:1;"></span></p><p><span style="indent:1;"></span><strong><h2>UNSIGNED integer</h2></strong><span style="indent:1;"></span></p><p><span style="indent:1;"></span><span style="indent:1;"></span></p><p><span style="indent:1;"></span><strong><h1>SHL</h1></strong><h1> </h1><em><h1>destination,count</h1></em><span style="indent:1;">  </span><span style="indent:1;"></span></p><p><span style="indent:1;"></span><img src="images/9-1.png" alt="images/9-1.png" /></p><p></p><p><strong>SHL  reg,imm8</strong><strong></strong></p><p><strong>SHL  mem,imm8</strong><strong></strong></p><p><strong>SHL  reg,CL</strong><strong></strong></p><p><strong>SHL  mem,CL</strong></p><p></p><p></p><p><strong><h1>SHR </h1></strong></p><p><img src="images/9-2.png" alt="images/9-2.png" /></p><p></p><p></p><p><strong><h2>SIGNED INTEGER</h2></strong></p><p></p><p><strong><h1>SAL = SHL </h1></strong><strong><h1></h1></strong></p><p><strong><h1></h1></strong><strong><h1></h1></strong></p><p><strong><h1>SAR != SHR</h1></strong> to save the signed extension</p><p></p><p><img src="images/9-3.png" alt="images/9-3.png" /></p><p></p><p><strong><h1>ROL instruction</h1></strong><span style="color:#663e0e;"> uses the Carry flag as an intermediate point for shifted bits.</span></p><p></p><p><strong><h1>UNSINGED INTEGER</h1></strong><h1></h1></p><p><h1></h1><h1></h1></p><p><h1></h1><strong><h1>ROL</h1></strong></p><p><img src="images/9-4.png" alt="images/9-4.png" /></p><p><strong>example:</strong></p><p></p><p><img src="images/9-5.png" alt="images/9-5.png" /></p><p></p><p><strong><h1>ROR</h1></strong></p><p><img src="images/9-6.png" alt="images/9-6.png" /></p><p><img src="images/9-7.png" alt="images/9-7.png" /></p><p><strong></strong></p><p><strong></strong><strong><h1>SINGED INTEGER</h1></strong><strong><h1></h1></strong></p><p><strong><h1></h1></strong><strong><h1></h1></strong></p><p><strong><h1>RCL </h1></strong></p><p><img src="images/9-8.png" alt="images/9-8.png" /></p><p></p><p><strong><h1>RCR</h1></strong></p><p></p><p>			<img src="images/9-9.png" alt="images/9-9.png" /></p><p>			</p><p>			<img src="images/9-10.png" alt="images/9-10.png" /></p><p>			</p><p><h1>		</h1><strong><h1>	SHLD/SHRD instruction			</h1></strong></p><p>			</p><p>			<img src="images/9-11.png" alt="images/9-11.png" /></p><p>			<img src="images/9-12.png" alt="images/9-12.png" /></p><p>			</p><p>			</p><p>			</p><p><h1>			</h1><strong><h1>Multiplication and Division Instructions</h1></strong></p><p>			<strong><h1>UNSINGED INTEGER</h1></strong></p><p>			</p><p><h1>			</h1><strong><h1>MUL</h1></strong>  MUL sets the Carry and Overflow flags if the upper half of the product is not equal to zero.</p><p>			<img src="images/9-13.png" alt="images/9-13.png" /> <img src="images/9-14.png" alt="images/9-14.png" /> <img src="images/9-15.png" alt="images/9-15.png" /></p><p><h2>				EXAMPLE 2</h2></p><p>			 <img src="images/9-16.png" alt="images/9-16.png" /></p><p>			</p><p><h1>			</h1><strong><h1>IMUL (SINGED VARIATION)</h1></strong><ul><li>			Preserves the sign of the product by sign extending the highest bit of the lower half of the product into the upper bits of the product. </li><li>			the Carry and Overflow flags are set if the upper half of the product is not a sign extension of the lower half. </li></ul></p><p></p><p>			<img src="images/9-17.png" alt="images/9-17.png" /></p><p>			</p><p>			<img src="images/9-18.png" alt="images/9-18.png" /><img src="images/9-19.png" alt="images/9-19.png" /></p><p>			</p><p><h1>			</h1><strong><h1>Unsigned Integer Division (DIV)</h1></strong></p><p>			<img src="images/9-20.png" alt="images/9-20.png" /></p><p>			<img src="images/9-21.png" alt="images/9-21.png" /> </p><p><h2>			8 bit division</h2></p><p>			 <img src="images/9-22.png" alt="images/9-22.png" /></p><p><h2>			16 bit division</h2></p><p>			<img src="images/9-23.png" alt="images/9-23.png" /></p><p>			</p><p><h2>			32 bit division</h2></p><p>			<img src="images/9-24.png" alt="images/9-24.png" /> <img src="images/9-25.png" alt="images/9-25.png" /></p><p>			</p><p><h1>			</h1><strong><h1>Signed Integer Division (IDIV)</h1></strong> beware of divide overflow when the result cannot hold value bigger than it range.</p><p>			The dividend must be sign-extended before the division takes place</p><p>			<img src="images/9-26.png" alt="images/9-26.png" /></p><p>			<img src="images/9-27.png" alt="images/9-27.png" /><img src="images/9-28.png" alt="images/9-28.png" /></p><p>			</p><p>			example 2:</p><p>			<img src="images/9-29.png" alt="images/9-29.png" /></p><p>			</p><p>			<img src="images/9-30.png" alt="images/9-30.png" /></p><p>			</p><p>			</p><p>			</p><p>			<strong><span style="color:#060f94;">Sign Extension Instructions (CBW, CWD, CDQ)</span></strong></p><p>			<img src="images/9-31.png" alt="images/9-31.png" /><img src="images/9-32.png" alt="images/9-32.png" /><img src="images/9-33.png" alt="images/9-33.png" /></p></div>
</body>
</html>
